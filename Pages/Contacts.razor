@page "/contact"
<PageTitle>Contact</PageTitle>


<div class="container mt-4">
    <h2 class="text-center mb-4">Contact Us</h2>

    <p class="lead mb-4">
        We’re here to help — whether you have a pre-sale question, need help with an order, or want to start a return.
        Below you’ll find all the ways to reach us plus our typical response times and useful guidance to get faster support.
    </p>

    <div class="row">
        <div class="col-md-6">
            <div class="mb-4">
                <h5>Phone Support</h5>
                <p>
                    Call us at <strong>+91 9129580499</strong> for urgent issues. Phone support is available Monday–Saturday,
                    10:00 AM to 6:00 PM IST. If we are unable to answer immediately, please leave a voicemail or use the
                    contact form below and we will call back during business hours.
                </p>
            </div>

            <div class="mb-4">
                <h5>Email</h5>
                <p>
                    For order-related questions and non-urgent inquiries, email us at
                    <strong>lavkumarvishwakarma9129@gmail.com</strong>. Include your order number in the subject line for faster processing.
                    We typically respond to emails within 24 hours on business days.
                </p>
            </div>

            <div class="mb-4">
                <h5>Address</h5>
                <p>
                    Head office / returns center:<br />
                    Food Market<br />
                    Dhanghata, Sant Kabir Nagar, Uttar Pradesh, India<br />
                    (Use this address for returns when a returns label is not provided.)
                </p>
            </div>

            <div class="mb-4">
                <h5>Business Hours &amp; Response Times</h5>
                <p>
                    Our support desk operates Monday–Saturday, 10:00 AM to 6:00 PM IST. For most queries we reply within
                    24 hours. Orders and shipping questions receive immediate priority and often get a same-day response
                    during business hours.
                </p>
            </div>
        </div>

        <div class="col-md-6">
            <div class="mb-4">
                <h5>Quick Contact Form</h5>
                <p class="small text-muted">Fill this form and our support team will reach out as soon as possible.</p>


                <EditForm Model="contact" OnValidSubmit="SubmitContact">
                    <DataAnnotationsValidator />
                    <ValidationSummary />

                    <div class="mb-2">
                        <label class="form-label">Full name</label>
                        <InputText class="form-control" placeholder="Your name"
                                   @bind-Value="contact.Full_Name" />
                    </div>

                    <div class="mb-2">
                        <label class="form-label">Email (optional)</label>
                        <InputText type="email" class="form-control" placeholder="you@example.com"
                                   @bind-Value="contact.Email" />
                    </div>

                    <div class="mb-2">
                        <label class="form-label">Phone</label>
                        <InputText type="tel" class="form-control" placeholder="+91 9XXXXXXXXX"
                                   @bind-Value="contact.Phone" />
                    </div>

                    <div class="mb-2">
                        <label class="form-label">Message</label>
                        <InputTextArea class="form-control" rows="4"
                                       placeholder="Tell us about your question or issue"
                                       @bind-Value="contact.Message" />
                    </div>

                    <button class="btn btn-primary" type="submit">Send Message</button>
                </EditForm>

                @if (successMessage != null)
                {
                    <div class="alert alert-success mt-3">@successMessage</div>
                }
            </div>

            <div class="mt-3">
                <h6>Social &amp; Community</h6>
                <p>
                    Follow us for updates, offers and support: <br />
                    @* <a href="waiting" class="me-2">Instagram</a> *@
                    <a href="https://www.facebook.com/Lav.Vishwakarma.str" class="me-2">Facebook</a>
                    <a href="https://www.linkedin.com/in/lavkumarvishwakarma219a10355/">LinkedIn</a>
                </p>
            </div>
        </div>
    </div>

    <hr />

    <div class="mt-3">
        <h5>Help &amp; Self-Service</h5>
        <p>
            For quick answers, check our FAQ or Order Help pages. You can track orders from your account page and initiate
            returns directly from the order history. These self-service options usually resolve most questions faster than
            contacting support.
        </p>
    </div>
</div>

@code {
    Contact contact = new Contact();
    string? successMessage;

    private async Task SubmitContact()
    {
        try
        {
            var response = await Http.PostAsJsonAsync("add-contact", contact);

            if (response.IsSuccessStatusCode)
            {
                successMessage = "Your message has been sent successfully! 🎉";
                contact = new Contact(); 
            }
            else
            {
                successMessage = "Failed to send message ❌";
            }
        }
        catch (Exception ex)
        {
            successMessage = $"Error: {ex.Message}";
        }
    }
}
